# éœæµ¦å®£ä¼ ç½‘ç«™ - å›¾ç‰‡ç®¡ç†ç³»ç»Ÿ

## ğŸ–¼ï¸ ç³»ç»Ÿæ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„å›¾ç‰‡ç®¡ç†ç³»ç»Ÿï¼Œè§£å†³äº†å›¾ç‰‡åŠ è½½å¤±è´¥çš„é—®é¢˜ï¼Œå¹¶æä¾›äº†åœ¨çº¿å›¾ç‰‡æœç´¢åŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### 1. æ™ºèƒ½å›¾ç‰‡åŠ è½½
- **æ‡’åŠ è½½**: å›¾ç‰‡è¿›å…¥è§†å£æ—¶æ‰å¼€å§‹åŠ è½½ï¼Œæå‡é¡µé¢æ€§èƒ½
- **é”™è¯¯é‡è¯•**: å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•2æ¬¡ï¼Œæ¯æ¬¡é—´éš”é€’å¢
- **å¤‡ç”¨å›¾ç‰‡**: é‡è¯•å¤±è´¥åè‡ªåŠ¨åˆ‡æ¢åˆ°æœ¬åœ°ç”Ÿæˆçš„SVGå¤‡ç”¨å›¾ç‰‡
- **åœ¨çº¿æœç´¢**: ä¼˜å…ˆå°è¯•åœ¨çº¿æœç´¢çš„é«˜è´¨é‡å›¾ç‰‡

### 2. æœ¬åœ°å¤‡ç”¨å›¾ç‰‡
é¡¹ç›®åŒ…å«4å¼ ç²¾ç¾çš„SVGå¤‡ç”¨å›¾ç‰‡ï¼š
- `images/fallback-sunrise.svg` - éœæµ¦æ»©æ¶‚æ—¥å‡º
- `images/fallback-seafood.svg` - éœæµ¦æµ·é²œç¾é£Ÿ
- `images/fallback-fisherman.svg` - éœæµ¦æ¸”æ°‘åŠ³ä½œ
- `images/fallback-landscape.svg` - éœæµ¦å±±æ°´é£å…‰

### 3. åœ¨çº¿å›¾ç‰‡æœç´¢
- **æ™ºèƒ½åŒ¹é…**: æ ¹æ®å›¾ç‰‡altæ–‡æœ¬è‡ªåŠ¨åŒ¹é…åˆé€‚çš„åœ¨çº¿å›¾ç‰‡
- **åˆ†ç±»ç®¡ç†**: æ”¯æŒæ—¥å‡ºã€æµ·é²œã€æ¸”æ°‘ç­‰ä¸åŒç±»åˆ«çš„å›¾ç‰‡
- **æœç´¢æ¼”ç¤º**: æä¾›å¯è§†åŒ–çš„å›¾ç‰‡æœç´¢ç•Œé¢

### 4. ç”¨æˆ·å‹å¥½åŠŸèƒ½
- **çŠ¶æ€æŒ‡ç¤ºå™¨**: å®æ—¶æ˜¾ç¤ºå›¾ç‰‡åŠ è½½çŠ¶æ€
- **é‡è¯•åŠŸèƒ½**: ç‚¹å‡»å¤±è´¥å›¾ç‰‡å¯æ‰‹åŠ¨é‡è¯•
- **æ‰¹é‡é‡è¯•**: ä¸€é”®é‡è¯•æ‰€æœ‰å¤±è´¥çš„å›¾ç‰‡
- **è§†è§‰æç¤º**: å¤‡ç”¨å›¾ç‰‡æœ‰ç‰¹æ®Šçš„è§†è§‰æ•ˆæœ

## ğŸš€ æŠ€æœ¯ç‰¹æ€§

### å›¾ç‰‡ç®¡ç†å™¨ (image-manager.js)
```javascript
class ImageManager {
    // æ ¸å¿ƒåŠŸèƒ½
    - å›¾ç‰‡æ‡’åŠ è½½å’Œè§‚å¯Ÿ
    - é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
    - å¤‡ç”¨å›¾ç‰‡ç®¡ç†
    - åœ¨çº¿å›¾ç‰‡æœç´¢
    - çŠ¶æ€ç»Ÿè®¡å’Œç›‘æ§
}
```

### æœç´¢æ¼”ç¤º (image-search-demo.js)
```javascript
class ImageSearchDemo {
    // æœç´¢åŠŸèƒ½
    - å¯è§†åŒ–æœç´¢ç•Œé¢
    - æœç´¢å†å²è®°å½•
    - ç»“æœé¢„è§ˆå’Œä½¿ç”¨
    - æ‰¹é‡æ›¿æ¢åŠŸèƒ½
}
```

## ğŸ“Š å›¾ç‰‡åŠ è½½æµç¨‹

```mermaid
graph TD
    A[å›¾ç‰‡è¿›å…¥è§†å£] --> B[å°è¯•åœ¨çº¿å›¾ç‰‡]
    B --> C{åŠ è½½æˆåŠŸ?}
    C -->|æ˜¯| D[æ˜¾ç¤ºå›¾ç‰‡]
    C -->|å¦| E[é‡è¯•åŠ è½½]
    E --> F{é‡è¯•æ¬¡æ•°<2?}
    F -->|æ˜¯| B
    F -->|å¦| G[ä½¿ç”¨å¤‡ç”¨å›¾ç‰‡]
    G --> H[æ·»åŠ é‡è¯•å›¾æ ‡]
    H --> I[ç”¨æˆ·å¯æ‰‹åŠ¨é‡è¯•]
```

## ğŸ¨ å¤‡ç”¨å›¾ç‰‡è®¾è®¡

æ‰€æœ‰å¤‡ç”¨å›¾ç‰‡éƒ½æ˜¯æ‰‹å·¥åˆ¶ä½œçš„SVGæ ¼å¼ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
- **çŸ¢é‡å›¾å½¢**: æ— æŸç¼©æ”¾ï¼Œé€‚åº”ä»»ä½•å°ºå¯¸
- **ä¸»é¢˜ä¸€è‡´**: ä¸éœæµ¦ä¸»é¢˜å®Œç¾å¥‘åˆ
- **è§†è§‰ç¾è§‚**: ç²¾å¿ƒè®¾è®¡çš„æ¸å˜å’Œç»†èŠ‚
- **åŠ è½½å¿«é€Ÿ**: æ–‡ä»¶å°ï¼ŒåŠ è½½é€Ÿåº¦å¿«

### æ—¥å‡ºå›¾ç‰‡ç‰¹è‰²
- æ¸å˜å¤©ç©ºä»æ©™çº¢åˆ°å¤©è“
- å¤ªé˜³å…‰æ™•æ•ˆæœ
- æ»©æ¶‚çº¹ç†å’Œæ¸”ç½‘æ†
- é£é¸Ÿå’Œäº‘æœµè£…é¥°

### æµ·é²œå›¾ç‰‡ç‰¹è‰²
- ä¸°å¯Œçš„æµ·é²œå…ƒç´ ï¼ˆèƒèŸ¹ã€é±¼ã€è™¾ã€æ‰‡è´ï¼‰
- é¤æ¡Œæœ¨çº¹èƒŒæ™¯
- è°ƒæ–™å’Œé¤å…·ç»†èŠ‚
- ç«‹ä½“é˜´å½±æ•ˆæœ

### æ¸”æ°‘å›¾ç‰‡ç‰¹è‰²
- æ¸”èˆ¹å’Œæ¸”æ°‘å‰ªå½±
- æµ·é¢æ³¢çº¹æ•ˆæœ
- è¿œå±±å±‚æ¬¡æ„Ÿ
- æ¸”ç½‘å’Œå·¥å…·ç»†èŠ‚

### é£å…‰å›¾ç‰‡ç‰¹è‰²
- å±±æ°´å±‚æ¬¡åˆ†æ˜
- ç«¹æ—å’Œå¤å»ºç­‘
- è·èŠ±å’Œæ°´è‰è£…é¥°
- å€’å½±å’Œå…‰å½±æ•ˆæœ

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
ç³»ç»Ÿä¼šè‡ªåŠ¨åˆå§‹åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ï¼š
```javascript
// è‡ªåŠ¨åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', () => {
    window.imageManager = new ImageManager();
    window.imageSearchDemo = new ImageSearchDemo();
});
```

### å›¾ç‰‡æ ‡ç­¾è¦æ±‚
ä¸ºäº†è·å¾—æœ€ä½³æ•ˆæœï¼Œå›¾ç‰‡æ ‡ç­¾åº”åŒ…å«ä»¥ä¸‹å±æ€§ï¼š
```html
<img data-src="å›¾ç‰‡URL" 
     alt="å›¾ç‰‡æè¿°" 
     data-image-type="å›¾ç‰‡ç±»å‹"
     loading="lazy">
```

æ”¯æŒçš„å›¾ç‰‡ç±»å‹ï¼š
- `sunrise` - æ—¥å‡ºé£æ™¯
- `seafood` - æµ·é²œç¾é£Ÿ  
- `fisherman` - æ¸”æ°‘åŠ³ä½œ
- `landscape` - ä¸€èˆ¬é£æ™¯

### æ‰‹åŠ¨æ§åˆ¶
```javascript
// è·å–ç»Ÿè®¡ä¿¡æ¯
const stats = window.imageManager.getStats();

// é‡è¯•å¤±è´¥å›¾ç‰‡
window.imageManager.retryAllFailedImages();

// æœç´¢åœ¨çº¿å›¾ç‰‡
const results = await window.imageManager.searchOnlineImages('éœæµ¦æ»©æ¶‚', 3);
```

## ğŸ“± å“åº”å¼è®¾è®¡

- **æ¡Œé¢ç«¯**: å®Œæ•´åŠŸèƒ½ï¼ŒåŒ…æ‹¬æœç´¢é¢æ¿å’ŒçŠ¶æ€æŒ‡ç¤ºå™¨
- **ç§»åŠ¨ç«¯**: è‡ªé€‚åº”ç•Œé¢ï¼Œè§¦æ‘¸å‹å¥½çš„äº¤äº’
- **å¹³æ¿ç«¯**: ä¼˜åŒ–çš„ä¸­ç­‰å±å¹•ä½“éªŒ

## ğŸ” æœç´¢åŠŸèƒ½

### å¿«é€Ÿæœç´¢æ ‡ç­¾
- éœæµ¦æ»©æ¶‚
- æµ·é²œç¾é£Ÿ
- æ¸”æ°‘åŠ³ä½œ
- æ—¥å‡ºæ—¥è½

### æœç´¢å†å²
- è‡ªåŠ¨ä¿å­˜æœ€è¿‘10æ¬¡æœç´¢
- æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–
- ä¸€é”®é‡å¤æœç´¢

### ç»“æœæ“ä½œ
- é¢„è§ˆå›¾ç‰‡
- å•å¼ ä½¿ç”¨
- æ‰¹é‡æ›¿æ¢
- æ¥æºä¿¡æ¯

## ğŸ› ï¸ å¼€å‘è¯´æ˜

### æ–‡ä»¶ç»“æ„
```
/
â”œâ”€â”€ images/                 # å¤‡ç”¨å›¾ç‰‡ç›®å½•
â”‚   â”œâ”€â”€ fallback-sunrise.svg
â”‚   â”œâ”€â”€ fallback-seafood.svg
â”‚   â”œâ”€â”€ fallback-fisherman.svg
â”‚   â””â”€â”€ fallback-landscape.svg
â”œâ”€â”€ image-manager.js        # æ ¸å¿ƒå›¾ç‰‡ç®¡ç†
â”œâ”€â”€ image-search-demo.js    # æœç´¢æ¼”ç¤ºåŠŸèƒ½
â”œâ”€â”€ index.html             # ä¸»é¡µé¢
â””â”€â”€ main.js               # ä¸»è¦é€»è¾‘
```

### æ‰©å±•å¼€å‘
è¦æ·»åŠ æ–°çš„å›¾ç‰‡ç±»å‹ï¼š
1. åœ¨ `ImageManager.fallbackImages` ä¸­æ·»åŠ æ–°ç±»å‹
2. åœ¨ `ImageManager.onlineImages` ä¸­æ·»åŠ å¯¹åº”çš„åœ¨çº¿å›¾ç‰‡
3. æ›´æ–° `getImageSrc` æ–¹æ³•çš„åŒ¹é…é€»è¾‘
4. åˆ›å»ºå¯¹åº”çš„SVGå¤‡ç”¨å›¾ç‰‡

### é›†æˆMCPå·¥å…·
ç³»ç»Ÿé¢„ç•™äº†MCPå›¾ç‰‡æœç´¢å·¥å…·çš„æ¥å£ï¼š
```javascript
// åœ¨ searchImages æ–¹æ³•ä¸­é›†æˆçœŸå®çš„MCPæœç´¢
async searchImages(query) {
    try {
        // è°ƒç”¨MCPå›¾ç‰‡æœç´¢å·¥å…·
        const results = await mcpImageSearch(query);
        return results;
    } catch (error) {
        // é™çº§åˆ°æœ¬åœ°å›¾ç‰‡
        return this.getLocalImages(query);
    }
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- **æ‡’åŠ è½½**: å‡å°‘åˆå§‹é¡µé¢åŠ è½½æ—¶é—´
- **å›¾ç‰‡å‹ç¼©**: SVGæ ¼å¼ï¼Œæ–‡ä»¶å°å·§
- **ç¼“å­˜ç­–ç•¥**: æ™ºèƒ½ç¼“å­˜å’Œé¢„åŠ è½½
- **é”™è¯¯å¤„ç†**: ä¼˜é›…é™çº§ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ
- **å†…å­˜ç®¡ç†**: åŠæ—¶æ¸…ç†ä¸éœ€è¦çš„èµ„æº

## ğŸ¯ ç”¨æˆ·ä½“éªŒ

- **æ— æ„ŸçŸ¥åˆ‡æ¢**: å¤‡ç”¨å›¾ç‰‡ä¸åŸå›¾ç‰‡é£æ ¼ä¸€è‡´
- **å³æ—¶åé¦ˆ**: å®æ—¶çŠ¶æ€æç¤ºå’Œè¿›åº¦æ˜¾ç¤º
- **äº¤äº’å‹å¥½**: ç‚¹å‡»é‡è¯•ï¼Œæ‰¹é‡æ“ä½œ
- **è§†è§‰ä¸€è‡´**: ç»Ÿä¸€çš„è®¾è®¡è¯­è¨€å’ŒåŠ¨ç”»æ•ˆæœ

## ğŸ”® æœªæ¥è§„åˆ’

- [ ] é›†æˆæ›´å¤šå›¾ç‰‡æœç´¢API
- [ ] æ”¯æŒå›¾ç‰‡ç¼–è¾‘å’Œæ»¤é•œ
- [ ] æ·»åŠ å›¾ç‰‡æ”¶è—åŠŸèƒ½
- [ ] å®ç°å›¾ç‰‡æ‡’åŠ è½½é¢„æµ‹
- [ ] æ”¯æŒWebPæ ¼å¼ä¼˜åŒ–
- [ ] æ·»åŠ å›¾ç‰‡SEOä¼˜åŒ–

---

*æœ¬ç³»ç»Ÿä¸ºéœæµ¦å®£ä¼ ç½‘ç«™ä¸“é—¨è®¾è®¡ï¼Œç¡®ä¿åœ¨ä»»ä½•ç½‘ç»œç¯å¢ƒä¸‹éƒ½èƒ½ä¸ºç”¨æˆ·æä¾›ä¼˜è´¨çš„è§†è§‰ä½“éªŒã€‚*
